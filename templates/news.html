{% extends "base.html" %}
{% from 'bootstrap5/form.html' import render_form %}

{% block title %}NEWS{% endblock %}

{% block content %}

<!-- Header + Search -->
<div class="container py-2 my-3">
  <h2 class="pb-3 text-center text-md-start">News</h2>

  <!-- ✅ Form should NOT be inside a heading -->
  <div class="mb-3">
    {{ render_form(form) }}
  </div>
</div>

{% if data %}
<!-- ✅ Responsive wrapper -->
<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8">

      <div class="list-group">
        {% for news in data %}
        <a href="{{ news['link'] }}" target="_blank"
           class="list-group-item list-group-item-action d-flex gap-3 py-3">
          <div class="d-flex w-100 justify-content-between">
            <div>
              <h6 class="mb-1">{{ news['title'] }}</h6>
              <p class="mb-0 opacity-75 small">
                {{ news['snippet'] }}
              </p>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>

    </div>
  </div>
</div>

{% elif query %}
<div class="text-center text-muted py-5">
  No news found for "{{ query }}".
</div>
{% endif %}

{% endblock %}
